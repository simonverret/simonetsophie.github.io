<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simon et Sophie</title>
    <!-- <link href="https://fonts.googleapis.com" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond&family=Source+Sans+Pro&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>RSVP</h1>
        
        <p>À bientôt!</p>
        
        <form id="rsvp-form" method="POST" action="https://docs.google.com/forms/d/e/1FAIpQLSf_WkmeP-TBlhQJ6Re-8R7TQ3LyI-i86EN6FWBdyB1tvcxTFQ/formResponse" target="hidden_iframe" class="rsvp-form">
            <label for="rsvp-name">Nom</label>
            <!-- Replace the name value with your Google Form's entry ID, e.g. entry.111111111 -->
            <input id="rsvp-name" name="entry.868932132" type="text" placeholder="Votre nom" required>

            <label for="rsvp-email">Email</label>
            <!-- Replace the name value with your Google Form's entry ID, e.g. entry.222222222 -->
            <input id="rsvp-email" name="entry.1861931117" type="email" placeholder="you@example.com" required>


            <label id="rsvp-attending-label">Participerez-vous ?</label>
            <!-- Replaced select with radio choices for round option styling -->
            <div class="radio-group" role="radiogroup" aria-labelledby="rsvp-attending-label">
                <label class="radio"><input type="radio" name="entry.312840016" value="Oui" required><span>Oui</span></label>
                <label class="radio"><input type="radio" name="entry.312840016" value="Non"><span>Non</span></label>
            </div>

            <button type="submit" class="rsvp-submit">Envoyer</button>
        </form>

        <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
        <div id="rsvp-message" class="rsvp-message" style="display:none;">Merci — votre réponse a été envoyée.</div>

        <script>
            (function(){
                var form = document.getElementById('rsvp-form');
                var iframe = document.getElementById('hidden_iframe');
                var msg = document.getElementById('rsvp-message');
                var submitted = false;

                form.addEventListener('submit', function(){
                    // mark that we've submitted so iframe load knows to show success
                    submitted = true;
                });

                // When iframe loads after submission, show a local thank-you message
                iframe.addEventListener('load', function(){
                    if(submitted){
                        form.style.display = 'none';
                        msg.style.display = 'block';
                        submitted = false;
                    }
                });
            })();
        </script>
    </div>
</body>
</html>